var _excluded=["provided","isDragging","active"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}function _objectWithoutProperties(a,b){if(null==a)return{};var c,d,e=_objectWithoutPropertiesLoose(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],0<=b.indexOf(c)||Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function _objectWithoutPropertiesLoose(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],0<=b.indexOf(c)||(e[c]=a[c]);return e}import{observer}from"mobx-react-lite";import React from"react";import styled,{css}from"styled-components";import{Avatar}from"../../../atoms";import{Unreads}from"../../../atoms/indicators/Unreads";import{Swoosh}from"./Swoosh";import{useLink,useTrigger}from"../../../../../lib/context";import{Tooltip}from"../../../atoms/indicators/Tooltip";export var ItemContainer=styled.div.withConfig({displayName:"ItemContainer",componentId:"sc-1ceo1kb-0"})(["width:56px;padding-left:7px;padding-right:7px;padding-bottom:6px;cursor:pointer;",""],function(a){return a.head&&css(["padding-top:6px;"])});var SwooshWrapper=styled.div.withConfig({displayName:"SwooshWrapper",componentId:"sc-1ceo1kb-1"})(["position:absolute;left:-7px;top:-32px;z-index:-1;"]);export function SwooshOverlay(){return React.createElement("div",{style:{position:"relative"}},React.createElement(SwooshWrapper,null,React.createElement(Swoosh,null)))}var Inner=observer(function(a){var b=a.item,c=a.permit,d=useLink(),e=useTrigger(),f=!!b.isUnread(c),g=b.getMentions(c).length;return React.createElement(Tooltip,{content:b.name,div:!0,right:!0},React.createElement(e,{id:"Menu",data:{server:b._id,unread:f}},React.createElement(d,{to:"/server/"+b._id},React.createElement(Avatar,{size:42,interactive:!0,fallback:b.name,holepunch:(f||0<g)&&"top-right",overlay:React.createElement(Unreads,{unread:f,count:g}),src:b.generateIconURL({max_side:256},!1)}))))});export function Item(a){var b=a.provided,c=a.isDragging,d=a.active,e=_objectWithoutProperties(a,_excluded);return React.createElement(ItemContainer,_extends({},b.draggableProps,b.dragHandleProps,{ref:b.innerRef,style:b.draggableProps.style}),d&&React.createElement(SwooshOverlay,null),React.createElement(Inner,e))}