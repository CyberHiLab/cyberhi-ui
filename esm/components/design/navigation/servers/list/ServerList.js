var _excluded=["servers","reorder","createServer","showDiscovery"];function _objectWithoutProperties(a,b){if(null==a)return{};var c,d,e=_objectWithoutPropertiesLoose(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],0<=b.indexOf(c)||Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function _objectWithoutPropertiesLoose(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],0<=b.indexOf(c)||(e[c]=a[c]);return e}import{Cog}from"@styled-icons/boxicons-solid";import React from"react";import{DragDropContext,Droppable,Draggable}from"react-beautiful-dnd";import{Virtuoso}from"react-virtuoso";import styled,{css}from"styled-components";import{isTouchscreenDevice}from"../../../../../lib";import{useLink}from"../../../../../lib/context";import{useDndComponents,useDragEndCustomReorder}from"../../../../common";import{Avatar}from"../../../atoms";import{Tooltip}from"../../../atoms/indicators/Tooltip";import{Item,ItemContainer}from"./Item";import{ListFooter}from"./ListFooter";import{ListHeader}from"./ListHeader";var Base=styled.div.withConfig({displayName:"Base",componentId:"sc-w55wm-0"})(["width:56px;display:flex;flex-direction:column;.list{flex-grow:1;scrollbar-width:none;}.list::-webkit-scrollbar{width:0;height:0;}",""],isTouchscreenDevice&&css(["padding-bottom:50px;"])),Shadow=styled.div.withConfig({displayName:"Shadow",componentId:"sc-w55wm-1"})(["height:0;z-index:1;display:relative;div{height:12px;margin-top:-12px;display:absolute;background:linear-gradient(to bottom,transparent,var(--background));}"]);export function ServerList(a){var b=a.active,c=a.permit,d=a.servers,e=a.reorder,f=a.createServer,g=a.showDiscovery,h=_objectWithoutProperties(a,_excluded),i=useLink(),j=useDndComponents();return React.createElement(Base,null,React.createElement(DragDropContext,{onDragEnd:useDragEndCustomReorder(e)},React.createElement(Droppable,{droppableId:"droppable",mode:"virtual",renderClone:function renderClone(a,b,e){return React.createElement(Item,{active:!1,permit:c,provided:a,isDragging:b.isDragging,item:d[e.source.index]})}},function(a){return React.createElement(Virtuoso,{totalCount:d.length+2,components:j,className:"list",scrollerRef:a.innerRef,itemContent:function itemContent(a){if(0===a)return React.createElement(ListHeader,h);if(a===d.length+1)return React.createElement(ListFooter,{createServer:f,showDiscover:g});var e=d[a-1];return React.createElement(Draggable,{draggableId:e._id,index:a-1,key:e._id},function(a){return React.createElement(Item,{item:e,permit:c,active:e._id===b,isDragging:!1,provided:a})})}})})),React.createElement(Shadow,null,React.createElement("div",null)),React.createElement(ItemContainer,{head:!0},React.createElement(i,{to:"/settings"},React.createElement(Tooltip,{i18n:"app.settings.title",div:!0,right:!0},React.createElement(Avatar,{size:42,fallback:React.createElement(Cog,{size:18}),interactive:!0})))))}